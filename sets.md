# Множества и мультимножества

_Множество_ как структура данных обладает следующими свойствами:

* хранимые в ней значения уникальны;
* множества поддерживают такие операции как: добавление элемента, удаление элемента, поиск элемента;
* более продвинутые реализации позволяют также получать пересечение, объединение и разность множеств.

_Мультимножества_ несколько отличаются по своим свойствам от множеств:

* ведётся подсчёт числа повторений каждого элемента;
* добавление элемента увеличивает счётчик, удаление уменьшает, поиск возвращает количество повторов.

Эффективность операций и затраты памяти зависят от способа реализации множества (мультимножества).

## Реализация с использованием массива

Если значениями множества являются натуральные числа, а наибольшее значение элемента не превосходит
некоторого допустимого (разумного) значения, то множество (мультимножество) может быть реализовано
с помощью массива.

В случае множества заводится булев массив, последний индекс которого будет равен или меньше максимально
возможного значения элемента. В случае множества заводится массив целых чисел.

Изначально такой массив для множества будет содержать в каждом элементе `false`, а для мультимножества -- `0`.
При добавлении элемента во множество по индексу равному значению элемента записывается `true`, для 
мультимножества соответствующий элемент будет увеличен на 1. При удалении элемента записывается `false`, для
мультимножества значение будет уменьшено на `1` (если только оно уже не равно `0`). Эффективность операций 
добавления и удаления O(1).

Поиск элемента производится проверкой значения в соответствующем элементе массива. Эффективность поиска равна
O(1).

Реализация пересечения, объединения и разности множеств более трудоёмка, O(n), где n -- наибольшее значение элемента множества.

Значения во множестве естественным образом упорядочены. Получение наименьшего и наибольшего значений можно
осуществлять как за O(n), так и за O(1). Во втором случае нужно просто в процессе работы со множеством
отслеживать данные две характеристики.

Проблема ограничения диапазона значения для элементов может быть решена реализацией с помощью связных списков.
Однако такая реализация гораздо менее эффективна.

## Повышение эффективности с помощью битовых операций

...

## Реализация с помощью дерева

Альтернативное часто встречающееся решение связано с использованием для хранения элементов множества дерева,
в частности, бинарного дерева поиска. В этом случае реализация основных операций будет иметь трудоёмкость O(log n), где n -- число элементов множества. Но зато уже не зависит от диапазона числовых значений, да и
в целом от природы хранимых значений.

## Множества в STL

...

## Задания

1) Решите следующую задачу:

Год назад Васе подарили копилку для монет, и он регулярно её пополнял в течение года, и в
ней накопилось много монет. Теперь Вася хочет выяснить, сколько монет каждого
достоинства попало в копилку. При этом он не хочет разбивать копилку, так как хочет
продолжить собирать монеты на покупку заветного pIod. Очевидно, что проблему нельзя
было бы решить, если бы Вася не заносил в специальную тетрадку достоинства монет в
порядке их поступления в копилку. Вам нужно помочь Васе: напишите для него программу,
которая по введённым числу n -- количеству монет и последовательности их достоинств в
порядке поступления в копилку в количестве n выведет количество различных достоинств и
количество наличных монет каждого достоинства.

*Входные данные*

В первой строке число монет в копилке n, 1 ≤ n ≤ 10^6 . Во второй строке натуральные числа c_i ,
1 ≤ c_i ≤ 10^7 , 1 ≤ i ≤ n, разделённые пробелом -- достоинства монет в порядке поступления в
копилку.

*Выходные данные*

В первой строке количество различных достоинств монет. Во второй строке количество
монет каждого достоинства в порядке возрастания достоинства, разделяя их пробелом.

| Входные данные | Выходные данные |
|----------------|-----------------|
| 5              | 3               |
| 1 2 5 5 2      | 1 2 2           |

1) Напишите решение этой задачи с разными реализациями множеств.

1) Реализуйте полную структуру данных для множеств с использованием массива, включая операции пересечения, объединения и разности двух множеств.

***

(c) 2019, Симоненко Евгений
